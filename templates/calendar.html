<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upcoming Events</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/output.css') }}">
</head>
<body class="bg-white text-black">
    <section class="w-4/5 mx-auto p-8 border-2 border-black mt-8">
        <h2 class="text-3xl font-bold mb-4">Upcoming Events</h2>

        {% if not grouped_events %}
        <p>No upcoming events.</p>
        {% else %}
        <div id="event-list">
            {% for event_date, events in grouped_events.items() %}
            <!-- Divider for each date -->
            <span class="flex items-center my-8">
                <span class="h-px flex-1 bg-black"></span>
                <span class="shrink-0 px-6">{{ event_date.strftime('%B %d, %Y') }}</span>
                <span class="h-px flex-1 bg-black"></span>
            </span>

            <!-- Display the events for that date -->
            {% for event in events %}
            <div class="bg-gray-100 border-2 border-black mb-4 p-4">
                <h6 class="text-lg font-bold">
                    {% if event.acts %}
                        {{ event.acts }}
                    {% else %}
                        {{ event.name }}
                    {% endif %}
                </h6>
                <p><strong>Date:</strong> {{ event.date.strftime('%B %d, %Y') }}</p>
                <p><strong>Venue:</strong> {{ event.venue }}</p>
                <p><strong>Doors Open:</strong> {{ event.doors.strftime('%H:%M') }}</p>

                {% if event.genre %}
                <p><strong>Genre:</strong> {{ event.genre }}</p>
                {% endif %}

{#                {% if event.flyer %}#}
{#                <p><strong>Flyer:</strong></p>#}
{#                <img src="{{ url_for('static', filename=event.flyer) }}" alt="Flyer" class="w-1/3">#}
{#                {% endif %}#}
                </div>
            {% endfor %}
            {% endfor %}
        </div>
        {% endif %}

        <!-- Link to submit an event -->
        <div class="mt-8 text-center">
            <p>Missing an event? <a href="{{ url_for('submit_event') }}" class="text-blue-500 underline">Submit it here</a>.</p>
        </div>
    </section>
</body>
</html>
